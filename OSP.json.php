<?php

$OSPs = array(
        array(
            'name' => 'Shaarli', 
            'trust' => true,
            'url' => 'http://sebsauvage.net/files/shaarli_0.0.41beta.zip',
            'version' => '0.0.41beta',
            'categories' => array('CMS'),
            'description' => 'You want to share the links you discover ? Shaarli is a minimalist delicious clone you can install on your own website. It is designed to be personal (single-user), fast and handy.',
            'link' => 'http://sebsauvage.net/wiki/doku.php?id=php:shaarli',
            'author' => 'Sebsauvage',
            ),
        array(
            'name' => 'Shaarli', 
            'trust' => true,
            'url' => 'http://sebsauvage.net/files/shaarli_0.0.40beta.zip',
            'version' => '0.0.40beta',
            'categories' => array('CMS'),
            'description' => 'Shaarli is a minimalist delicious clone you can install on your own website. It is designed to be personal (single-user), fast and handy.',
            'link' => 'http://sebsauvage.net/wiki/doku.php?id=php:shaarli',
            'author' => 'Sebsauvage',
            ),
        array(
            'name' => 'Kriss', 
            'trust' => true,
            'url' => 'https://github.com/tontof/kriss_blog/archive/master.zip',
            'version' => 'last',
            'categories' => array('Blog'),
            'description' => 'KrISS feed is a simple and smart (or stupid) feed reader.',
            'link' => 'http://tontof.net/kriss/feed/',
            'author' => 'Tontof',
            ),
        array(
            'name' => 'Pluxml', 
            'trust' => true,
            'url' => 'http://telechargements.pluxml.org/download.php',
            'version' => 'last',
            'categories' => array('RSS'),
            'description' => 'Yahou ! Shaarli is a minimalist delicious clone you can install on your own website. It is designed to be personal (single-user), fast and handy.',
            'link' => 'http://sebsauvage.net/wiki/doku.php?id=php:shaarli',
            'author' => 'Pluxml',
            'configuration' => 'manual',
            ),
        array(
            'name' => 'Drupal',
            'trust' => true,
            'url' => 'http://ftp.drupal.org/files/projects/drupal-7.23.zip',
            'version' => 'last',
            'categories' => array('CMS'),
            'description' => 'Drupal est un CMS aux multiples facettes. Conçu à l’origine pour être un blog collectif, il trouve aujourd’hui des applications très variées : du site corporate au portail communautaire, il sait tout faire ! Il a été conçu dans les années 2000 par Dries Buytaert et connaît depuis un succès mondial. Une communauté énorme s’est créée autour du produit.',
            'link' => 'http://drupal.org/',
            'author' => 'Drupal',
            'database' => 'MySQL, MariaDB, PostGreSQL, SQLite'
            ),
        array(
            'name' => 'owncloud', 
            'trust' => true,
            'url' => 'http://download.owncloud.org/community/owncloud-5.0.13.zip',
            'version' => '5.0.13',
            'categories' => array('Cloud'),
            'description' => 'OwnCloud provides universal access to your files via the web, your computer or your mobile devices — wherever you are.',
            'link' => 'http://owncloud.org',
            'author' => 'owncloud',
            ),
        array(
            'name' => 'Codiad',
            'url' => 'https://github.com/Codiad/Codiad/archive/v.2.0.7.zip',
            'version' => '2.0.7',
            'categories' => array('Development'),
            'description' => 'Codiad is a web-based IDE framework with a small footprint and minimal requirements.',
            'link' => 'http://codiad.com',
            'author' => 'Codiad',
            ),
        array(
            'name' => 'selfoss', 
            'trust' => true,
            'url' => 'http://selfoss.aditu.de/selfoss-2.9.zip',
            'version' => '2.9',
            'categories' => array('RSS'),
            'description' => 'The new multipurpose rss reader, live stream, mashup, aggregation web application.',
            'link' => 'http://codiad.com',
            'author' => 'Codiad',
            ),
        array(
            'name' => 'Leed', 
            'trust' => true,
            'url' => 'https://github.com/ldleman/Leed/archive/master.zip',
            'version' => 'last',
            'categories' => array('RSS'),
            'description' => 'Leed est un agrégateur de flux RSS/ATOM dit KISS : minimaliste, simple, léger et rapide.',
            'link' => 'http://projet.idleman.fr/leed/?page=Accueil',
            'author' => 'Idleman',
            ),
        array(
            'name' => 'SonarRSS', 
            'trust' => true,
            'url' => 'https://github.com/broncowdd/SonarRSS/archive/master.zip',
            'version' => 'last',
            'categories' => array('RSS'),
            'description' => 'Alternative à NetVibes pour la lecture de flux.',
            'link' => 'http://warriordudimanche.net',
            'author' => 'Bronco',
            ),
        array(
            'name' => 'SnippetVamp', 
            'trust' => true,
            'url' => 'https://github.com/broncowdd/SnippetVamp/archive/master.zip',
            'version' => 'last',
            'categories' => array('Development'),
            'description' => 'This is an app to easily store, manage &amp; share your snippets.',
            'link' => 'http://warriordudimanche.net',
            'author' => 'Bronco',
            ),

        array(
            'name' => 'RainLoop', 
            'trust' => true,
            'url' => 'http://repository.rainloop.net/v1/rainloop-1.3.9.485-e0f24df9e58dbe81fc123b68c0cd3319.zip',
            'version' => '1.3.9',
            'categories' => array('Webmail'),
            'description' => 'SIMPLE, MODERN & FAST WEB-BASED EMAIL CLIENT.',
            'link' => 'http://rainloop.net',
            'author' => 'RainLoop',
            ),
        array(
            'name' => 'Roundcube', 
            'trust' => true,
            'url' => 'https://github.com/roundcube/roundcubemail/archive/master.zip',
            'version' => 'last',
            'categories' => array('Webmail'),
            'description' => 'Roundcube webmail is a browser-based multilingual IMAP client with an application-like user interface.',
            'link' => 'http://roundcube.net',
            'author' => 'Roundcube',
            ),
        array(
            'name' => 'ZeroBin', 
            'trust' => true,
            'url' => 'https://github.com/sebsauvage/ZeroBin/archive/master.zip',
            'version' => 'last',
            'categories' => array('Pastebin'),
            'description' => 'ZeroBin is a minimalist, opensource online pastebin/discussion board where the server has zero knowledge of hosted data. Data is encrypted/decrypted in the browser using 256 bits AES.',
            'link' => 'http://sebsauvage.net/wiki/doku.php?id=php:zerobin',
            'author' => 'Sebsauvage',
            ),
        array(
            'name' => 'Anchor', 
            'trust' => true,
            'url' => 'http://anchorcms.com/download',
            'version' => 'last',
            'categories' => array('Blog'),
            'description' => 'Anchor is a super-simple, lightweight blog system, made to let you just write.',
            'link' => 'http://anchorcms.com',
            'author' => 'Anchorcms',
            'database' => "MySQL"            
            ),
        array(
            'name' => 'Wordpress', 
            'trust' => true,
            'url' => 'http://wordpress.org/latest.zip',
            'version' => 'last',
            'categories' => array('Blog'),
            'description' => 'WordPress started as just a blogging system, but has evolved to be used as full content management system and so much more through the thousands of plugins and widgets and themes, WordPress is limited only by your imagination.',
            'link' => 'http://wordpress.org',
            'author' => 'Wordpress',
            'database' => 'MySQL'
            ),
        array(
            'name' => 'Dotclear', 
            'trust' => true,
            'url' => 'http://download.dotclear.net/latest.zip',
            'version' => 'last',
            'categories' => array('Blog'),
            'description' => 'Dotclear is an open-source web publishing software. The project’s purpose is to provide a user-friendly tool allowing anyone to publish on the web, regardless of their technical skills.',
            'link' => 'http://wordpress.org',
            'author' => 'Olivier Meunier',
            'database' => 'MySQL, PostGreSQL'
            ),        
        array(
            'name' => 'esotalk', 
            'trust' => true,
            'url' => 'http://esotalk.org/download',
            'version' => 'last',
            'categories' => array('Forum'),
            'description' => 'Fat-free forum software..',
            'link' => 'http://wordpress.org',
            'author' => 'esotalk',
            ),  
        array(
            'name' => 'phpbb', 
            'trust' => true,
            'url' => 'https://www.phpbb.com/files/release/phpBB-3.0.12.zip',
            'version' => 'last',
            'categories' => array('Forum'),
            'description' => 'phpBB is a free flat-forum bulletin board software solution that can be used to stay in touch with a group of people or can power your entire website.',
            'link' => 'http://phpbb.com',
            'author' => 'phpbb',
            ),    
        array(
            'name' => 'NoNonsense', 
            'trust' => true,
            'url' => 'https://github.com/Kroc/NoNonsenseForum/archive/master.zip',
            'version' => '1.4.0',
            'categories' => array('Forum'),
            'description' => 'NoNonsense Forum is a free, open source, PHP-based simple discussion forum. ',
            'link' => 'http://camendesign.com/nononsense_forum',
            'author' => 'camendesign',
            ),  

        array(
            'name' => 'punbb', 
            'trust' => true,
            'url' => 'http://punbb.informer.com/download/punbb-1.4.2.zip',
            'version' => '1.4.2',
            'categories' => array('Forum'),
            'description' => 'PunBB is a fast and lightweight PHP-powered discussion board. Its primary goals are to be faster, smaller and less graphically intensive as compared to other discussion boards.',
            'link' => 'http://punbb.informer.com',
            'author' => 'punbb',
            ), 
        array(
            'name' => 'fluxbb', 
            'trust' => true,
            'url' => 'http://fluxbb.org/download/releases/1.5.4/fluxbb-1.5.4.zip',
            'version' => '1.5.4',
            'categories' => array('Forum'),
            'description' => 'FluxBB is fast, light, user-friendly forum software for your website.',
            'link' => 'http://fluxbb.org',
            'author' => 'fluxbb',
            'database' => 'Mysql, PostGreSQL, SQLite', 
            ), 
        array(
            'name' => 'phorum', 
            'trust' => true,
            'url' => 'http://www.phorum.org/downloads/phorum-5.2.19.zip',
            'version' => '5.2.19',
            'categories' => array('Forum'),
            'description' => 'Started in 1998, Phorum was the original PHP and MySQL based Open Source forum software.',
            'link' => 'http://www.phorum.org',
            'author' => 'phorum',
            ), 
        array(
            'name' => 'Vanilla', 
            'trust' => true,
            'url' => 'http://cdn.vanillaforums.com/www.vanillaforums.org/addons/I73N851HNLPN.zip',
            'version' => '2.0.18.8',
            'categories' => array('Forum'),
            'description' => 'Vanilla is an open-source, pluggable, themable, multi-lingual community-building solution. It is specially made to help small communities grow larger through SEO mojo, totally customizable social tools, and great user experience. Vanilla is also built with integration at the forefront, so it can seamlessly integrate with your existing website, blog, or custom-built application.',
            'link' => 'http://vanillaforums.org',
            'author' => 'vanillaforums',
            ), 
        array(
            'name' => 'caldavzap', 
            'trust' => true,
            'url' => 'http://www.inf-it.com/CalDavZAP_0.9.1.2.zip',
            'version' => '0.9.1.2',
            'categories' => array('Calendrier'),
            'description' => 'CalDavZAP is an open source CalDAV web client implementation released under GNU Affero General Public License (version 3.0).',
            'link' => 'http://www.inf-it.com/open-source/clients/caldavzap/',
            'author' => 'caldavzap',
            ), 
        array(
            'name' => 'HTML5-Notepad', 
            'trust' => true,
            'url' => 'http://kaspars.net/wp-content/uploads/2011/05/HTML5-Notepad-with-Sync-2012.zip',
            'version' => 'last',
            'categories' => array('Note'),
            'description' => 'The modern notepad for writers, bloggers and journalists. Supports offline access and instant synchronization with your own server.',
            'link' => 'http://kaspars.net/projects/html5-notepad',
            'author' => 'HTML5-Notepad',
            ), 
        array(
            'name' => 'LimeSurvey', 
            'trust' => true,
            'url' => 'http://www.limesurvey.org/en/stable-release/finish/25-latest-stable-release/961-limesurvey200plus-build131107-zip',
            'version' => 'last',
            'categories' => array('Divers'),
            'description' => 'The open source survey application, refreshingly easy and free.',
            'link' => 'http://www.limesurvey.org',
            'author' => 'limesurvey',
            'database' => 'MySQL',
            'installation' => 0,
            ), 
        array(
            'name' => 'Cacti', 
            'trust' => true,
            'url' => 'http://www.cacti.net/downloads/cacti-0.8.8b.zip',
            'version' => '0.8.8b',
            'categories' => array('Divers'),
            'description' => 'Cacti is a complete network graphing solution designed to harness the power of RRDTool’s data storage and graphing functionality. Cacti provides a fast poller, advanced graph templating, multiple data acquisition methods, and user management features out of the box. All of this is wrapped in an intuitive, easy to use interface that makes sense for LAN-sized installations up to complex networks with hundreds of devices.',
            'link' => 'http://www.cacti.net/',
            'author' => 'The Cacti Group',
            'database' => 'MySQL',
            'configuration' => 'Manual',
            ), 
        array(
            'name' => 'Moodle', 
            'url' => 'http://downloads.sourceforge.net/project/moodle/Moodle/stable25/moodle-2.5.3.zip?r=http%3A%2F%2Fdownload.moodle.org%2Fdownload.php%2Fstable25%2Fmoodle-2.5.3.zip&ts=1384265087&use_mirror=optimate',
            'version' => '2.5.3',
            'categories' => array('CMS'),
            'description' => 'Moodle is a software package for producing Internet-based courses and web sites. It is a global development project designed to support a social constructionist framework of education.',
            'link' => 'http://moodle.org',
            'author' => 'Moodle',
            'database' => 'MySQL, MariaDB, PostGreSQL, Oracle, SQLServer',
            ),   
        array(
            'name' => 'Moodle', 
            'url' => 'http://download.moodle.org/download.php/direct/moodle/moodle-latest.zip',
            'version' => 'last',
            'categories' => array('CMS'),
            'description' => 'Moodle is a software package for producing Internet-based courses and web sites. It is a global development project designed to support a social constructionist framework of education.',
            'link' => 'http://moodle.org',
            'author' => 'Moodle',
            'database' => 'MySQL, MariaDB, PostGreSQL, Oracle, SQLServer',
            ),      
            
        array(
            'name' => 'Claroline', 
            'url' => 'http://downloads.sourceforge.net/project/claroline/Claroline/Claroline_1.11.8/claroline-1.11.8.zip?r=http%3A%2F%2Fsourceforge.net%2Fprojects%2Fclaroline%2Ffiles%2FClaroline%2FClaroline_1.11.8%2F&ts=1384266612&use_mirror=netcologne',
            'version' => '1.11.8',
            'categories' => array('CMS'),
            'description' => 'Claroline est un logiciel Open Source permettant de déployer facilement une plateforme dédiée à l’apprentissage et au travail collaboratif en ligne. Disponible en de nombreuses langues, Claroline peut être téléchargée gratuitement et installée librement.',
            'link' => 'http://www.claroline.net',
            'author' => 'Claroline',
            'database' => 'MySQL',
            'configuration' => 'Manual'
            ),     
        array(
            'name' => 'MantisBT', 
            'url' => 'http://downloads.sourceforge.net/project/mantisbt/mantis-stable/1.2.15/mantisbt-1.2.15.zip?r=http%3A%2F%2Fsourceforge.net%2Fprojects%2Fmantisbt%2Ffiles%2Fmantis-stable%2F1.2.15%2F&ts=1384267609&use_mirror=netcologne',
            'version' => '1.2.15',
            'categories' => array('Development'),
            'description' => 'MantisBT is a free popular web-based bugtracking system (feature list). It is written in the PHP scripting language and works with MySQL, MS SQL, and PostgreSQL databases and a webserver.',
            'link' => 'http://www.mantisbt.org',
            'author' => 'MantisBT',
            'database' => 'MySQL, SQL Server, PostgreSQL, Oracle, IBM DB2',
            ),                 
        array(
            'name' => 'Aeres', 
            'url' => 'http://superbaillot.net/site/DOC/Divers/Aeres/Aeres.zip',
            'version' => 'last',
            'categories' => array('RSS'),
            'description' => 'Agrégateur RSS simple et léger sans base de données.',
            'link' => 'http://superbaillot.net/site/mesContributions-aeres.php',
            'author' => 'superbaillo',
            ),
        array(
            'name' => 'phproxyimproved', 
            'url' => 'https://phproxyimproved.googlecode.com/files/PhproxyImproved.0.3.zip',
            'version' => '0.3',
            'categories' => array('Divers'),
            'description' => 'Simple to install PHP Web proxy - for free internet in schools and at work! <br/> Lancer install.php. (username/password)',
            'link' => 'https://code.google.com/p/phproxyimproved/',
            'author' => 'Jeffsche',
            ),     
            
        array(
            'name' => 'DropCenter', 
            'url' => 'https://github.com/ldleman/dropcenter/archive/master.zip',
            'version' => 'last',
            'categories' => array('Cloud'),
            'description' => 'DropCenter est un programme développé en PHP/Javascript (garanti sans flash) qui ne nécessite aucune base de données et qui vous permet d’envoyer un ou plusieurs fichiers en ligne (upload) d’un simple glisser-déposer du bureau vers votre navigateur.',
            'link' => 'http://projet.idleman.fr/dropcenter/',
            'author' => 'Idleman',
            ),                 
        array(
            'name' => 'BlazeKiss', 
            'url' => 'https://github.com/ldleman/blazekiss/archive/master.zip',
            'version' => 'last',
            'categories' => array('Wiki'),
            'description' => 'BlazeKiss est un wiki basé sur le principe Kiss : Keep It Simple Stupid, c’est à dire la simplicité et la fonctionnalité avant tout.',
            'link' => 'http://projet.idleman.fr/blazekiss/',
            'author' => 'Idleman',
            ),   
		array(
			'name' => 'Adminer',
			'url' => 'http://downloads.sourceforge.net/project/adminer/Adminer/Adminer%203.7.1/adminer-3.7.1.php?r=http%3A%2F%2Fwww.adminer.org%2F&ts=1384339247&use_mirror=garr',
			'version' => '3.7.1',
			'type' => 'php',
			'categories' => array('Development'),
			'description' => 'Database management in a single PHP file.',
			'link' => 'http://www.adminer.org',
			'author' => 'Jakub Vrána',
			'database'=> 'MySQL'
			),
		array(
				'name' => 'phpMyAdmin',
				'url' => 'http://downloads.sourceforge.net/project/phpmyadmin/phpMyAdmin/4.0.9/phpMyAdmin-4.0.9-all-languages.zip?r=http%3A%2F%2Fwww.phpmyadmin.net%2Fhome_page%2Findex.php&ts=1384339922&use_mirror=kent',
				'version' => '4.0.9',
				'categories' => array('Development'),
				'description' => 'phpMyAdmin is a free software tool written in PHP, intended to handle the administration of MySQL over the Web. phpMyAdmin supports a wide range of operations on MySQL, MariaDB and Drizzle. Frequently used operations (managing databases, tables, columns, relations, indexes, users, permissions, etc) can be performed via the user interface, while you still have the ability to directly execute any SQL statement.',
				'link' => 'http://www.adminer.org',
				'author' => 'PHPMyAdmin',
				'database'=> 'MySQL, MariaDB, Drizzle'
			),
		array(
				'name' => 'CodevTT',
				'url' => 'https://github.com/lbayle/codev/archive/master.zip',
				'version' => 'last',
				'categories' => array('Development'),
				'description' => 'An open source issue tracking & project management application.',
				'link' => 'http://codevtt.org/',
				'author' => 'Louis BAYLE',
            	'database' => 'MySQL, SQL Server, PostgreSQL, Oracle, IBM DB2',
			),		
		array(
				'name' => 'Collabtive',
				'url' => 'http://downloads.sourceforge.net/project/collabtive/collabtive/1.1/collabtive-11.zip?r=http%3A%2F%2Fwww.collabtive.o-dyn.de%2Fdownloadref.php&ts=1384351787&use_mirror=netcologne',
				'version' => '1.1',
				'categories' => array('Development'),
				'description' => 'Collabtive is cloud based groupware easy and efficient for your projects.',
				'link' => 'http://www.collabtive.o-dyn.de/',
				'author' => 'Open Dynamics',
				'configuration' => 'Manual',
				'database'=> ''
		),		
		array(
				'name' => 'dotProject',
				'url' => 'http://downloads.sourceforge.net/project/dotproject/dotproject/dotProject%20Version%202.1.8/dotproject_2_1_8.zip?r=http%3A%2F%2Fsourceforge.net%2Fprojects%2Fdotproject%2F&ts=1384353588&use_mirror=heanet',
				'version' => '2.1.8',
				'categories' => array('Development'),
				'description' => 'dotProject is a volunteer supported Project Management application. There is no "company" behind this project, it is managed, maintained, developed and supported by a volunteer group and by the users themselves.',
				'link' => 'http://www.dotproject.net/',
				'author' => 'Slackhat',
				'configuration' => 'Manual',
				'database'=> ''
		),		
// 		array(
// 				'name' => 'indefero',
// 				'url' => 'http://projects.ceondo.com/p/indefero/downloads/get/indefero-1.3.3.tar.bz2',
// 				'version' => '1.3.3',
// 				'categories' => array('Development'),
// 				'type' => 'tar.bz2',
// 				'description' => 'Indefero is basically a clone of GoogleCode but with git, mercurial, subversion and monotone support. See Features for a more complete list of features.',
// 				'link' => 'http://projects.ceondo.com',
// 				'author' => 'Ceondo',
// 				'configuration' => 'Manual',
// 				'database'=> ''
// 		),		
// 		array(
// 				'name' => 'phpcollab',
// 				'url' => 'http://downloads.sourceforge.net/project/phpcollab/final/2.5/phpcollab-2.5.zip?r=http%3A%2F%2Fsourceforge.net%2Fprojects%2Fphpcollab%2Ffiles%2Ffinal%2F2.5%2F&ts=1384358289&use_mirror=netcologne',
// 				'version' => '2.5',
// 				'categories' => array('Development'),
// 				'description' => 'phpCollab is an open source internet-enabled system for use in projects that require collaboration over the internet.',
// 				'link' => 'http://www.phpcollab.com',
// 				'author' => 'PHPCOLLAB',
// 				'configuration' => 'Manual',
// 				'database'=> 'MySql, Microsoft, Sql Server, PostgreSQL'
// 			),
			array(
					'name' => 'Pixie',
					'url' => 'http://pixie-cms.googlecode.com/files/pixie_v1.04.zip',
					'version' => '1.04',
					'categories' => array('Blog'),
					'description' => 'Pixie is a free, open source web application that will help you quickly create your own website. Many people refer to this type of software as a "content management system (cms)", we prefer to call it a small, simple, website maker.',
					'link' => 'http://www.getpixie.co.uk',
					'author' => 'Lucid Crew',
					'database'=> 'MySql'
				),
		array(
				'name' => 'Nucleus',
				'url' => 'http://downloads.sourceforge.net/project/nucleuscms/1.%20Nucleus%20Core/Nucleus%20v3.65/nucleus3.65.zip?r=http%3A%2F%2Fnucleuscms.org%2Fdownload.php&ts=1384360444&use_mirror=optimate',
				'version' => '3.65',
				'categories' => array('Blog'),
				'description' => '',
				'link' => 'http://nucleuscms.org/',
				'author' => 'Lucid Crew',
				'configuration' => 'You have to run install.php',
				'database'=> 'MySql'
		),		
		array(
				'name' => 'Monstra',
				'url' => 'https://bitbucket.org/Awilum/monstra/downloads/monstra-2.2.1.zip',
				'version' => '3.65',
				'categories' => array('CMS'),
				'description' => 'Monstra is a simple and light-weighted Content Management System written in PHP! It is Easy to install, upgrade and use. Just try it :)',
				'link' => 'http://nucleuscms.org/',
				'author' => 'Lucid Crew',
				'database'=> 'MySql'
		),		
		
        );

// Add available OSPs
$availableVersions = array();
foreach($OSPs as $OSP){
	if(!isset($availableVersions[$OSP['name']])){
		$availableVersions[$OSP['name']] = array();
	}
    $availableVersions[$OSP['name']][] = $OSP['version'];
}

foreach($OSPs as $key => $OSP){
	if(isset($availableVersions[$OSP['name']])){
		$OSPs[$key]['versions'] = $availableVersions[$OSP['name']];
	}
}



//Add available icon
$screenShootsDir = 'img';
foreach($OSPs as $key => $OSP){
    $files = scandir($screenShootsDir);
    foreach($files as $t) {
		if(!isset($OSPs[$key]['img'])){
			$OSPs[$key]['img'] = sprintf('%s/%s', $screenShootsDir, 'cc.png');
		}
    	if(strtolower($t) === strtolower($OSP['name'] .'.png')){
    		$OSPs[$key]['img'] = sprintf('%s/%s', $screenShootsDir, $t);
    	} 
    }
}

//Add available screenshoots
$screenShootsDir = 'img';
foreach($OSPs as $key => $OSP){
	if(!isset($OSP['screenshoots'])){
		$OSPs[$key]['screenshoots'] = array();
	}
    $files = scandir($screenShootsDir);
    foreach($files as $t) {
    	if(strtolower(substr($t, 0, strlen($OSP['name']) + 1 )) === strtolower($OSP['name'] . '_')){
    		$OSPs[$key]['screenshoots'][] = sprintf('%s/%s', $screenShootsDir, $t);
    	} 
    }
}

var_export($OSPs);
file_put_contents("OSP.json", json_encode($OSPs));


// Set categories 
$categories = array();
foreach($OSPs as $OSP){
    $categoriesToAdd = array_diff($OSP['categories'], $categories);
    if(count($categoriesToAdd) >= 0){
        $categories = array_merge($categories, $categoriesToAdd);
    }
}
natsort($categories);
file_put_contents("OSP.categories.json", json_encode($categories));

return;

